import{u as I,S}from"./tracks-CTTweL8X.js";import{X as D,r as a,Y as h,j as n,Z as l,_ as f,$ as N,a0 as $,a1 as A,a2 as E,a3 as U,a4 as M,a5 as H,a6 as C,a7 as O,a8 as x,a9 as m}from"./index-SoLVvKIf.js";const[g,u]=D({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),k=a.forwardRef((e,s)=>{const o=u(),t=h(o.getControlProps(),e);return n.jsx(l.span,{...t,ref:s})});k.displayName="SwitchControl";const P=a.forwardRef((e,s)=>{const o=u(),t=h(o.getHiddenInputProps(),e),r=f();return n.jsx(l.input,{"aria-describedby":r==null?void 0:r.ariaDescribedby,...t,ref:s})});P.displayName="SwitchHiddenInput";const b=a.forwardRef((e,s)=>{const o=u(),t=h(o.getLabelProps(),e);return n.jsx(l.span,{...t,ref:s})});b.displayName="SwitchLabel";const q=(e={})=>{const{getRootNode:s}=N(),{dir:o}=$(),t=f(),r={id:a.useId(),ids:{label:t==null?void 0:t.ids.label,hiddenInput:t==null?void 0:t.ids.control},dir:o,disabled:t==null?void 0:t.disabled,readOnly:t==null?void 0:t.readOnly,invalid:t==null?void 0:t.invalid,required:t==null?void 0:t.required,getRootNode:s,checked:e.defaultChecked,...e},i={...r,checked:e.checked,onCheckedChange:A(e.onCheckedChange,{sync:!0})},[c,d]=E(U(r),{context:i});return M(c,d,H)},y=a.forwardRef((e,s)=>{const[o,t]=C()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),r=q(o),i=h(r.getRootProps(),t);return n.jsx(g,{value:r,children:n.jsx(l.label,{...i,ref:s})})});y.displayName="SwitchRoot";const R=a.forwardRef((e,s)=>{const[{value:o},t]=C()(e,["value"]),r=h(o.getRootProps(),t);return n.jsx(g,{value:o,children:n.jsx(l.label,{...r,ref:s})})});R.displayName="SwitchRootProvider";const j=a.forwardRef((e,s)=>{const o=u(),t=h(o.getThumbProps(),e);return n.jsx(l.span,{...t,ref:s})});j.displayName="SwitchThumb";const{withProvider:v,withContext:w,useStyles:L,PropsProvider:Q}=O({key:"switch"});v(R,"root",{forwardAsChild:!0});const F=v(y,"root",{forwardAsChild:!0}),Y=w(b,"label",{forwardAsChild:!0}),_=w(k,"control",{forwardAsChild:!0}),z=w(j,"thumb",{forwardAsChild:!0}),J=a.forwardRef(function(s,o){const t=u(),r=L(),{fallback:i,children:c,...d}=s;return n.jsx(x.span,{ref:o,"data-checked":m(t.checked),...d,css:[r.indicator,s.css],children:t.checked?c:i})}),X=a.forwardRef(function(s,o){const t=u(),{fallback:r,children:i,...c}=s;return n.jsx(x.span,{ref:o,"data-checked":m(t.checked),...c,children:t.checked?i:r})}),Z=P;function p(e){const s=new Date(e),o=s.getUTCDay();if(o!==2){const t=o-2>=0?o-2:o-2+7;s.setUTCDate(s.getUTCDate()-t)}return B(s)}function B(e){const s=e.getUTCFullYear(),o=String(e.getUTCMonth()+1).padStart(2,"0"),t=String(e.getUTCDate()).padStart(2,"0");return`${s}-${o}-${t}`}const V=()=>{const{favoriteSeries:e}=I(),s=a.useMemo(()=>[...new Set(e.map(t=>S[t.toString()].weeks.map(r=>p(r.date))).flat())],[e]),o=a.useMemo(()=>e.reduce((t,r)=>({...t,[r]:S[r.toString()].weeks.reduce((i,c)=>({...i,[p(c.date)]:c.track.id}),{})}),{}),[e]);return{weeksStartDates:s,seriesDateMap:o}},W=a.forwardRef(function(s,o){const{inputProps:t,children:r,rootRef:i,trackLabel:c,thumbLabel:d,...T}=s;return n.jsxs(F,{ref:i,...T,children:[n.jsx(Z,{ref:o,...t}),n.jsxs(_,{children:[n.jsx(z,{children:d&&n.jsx(X,{fallback:d==null?void 0:d.off,children:d==null?void 0:d.on})}),c&&n.jsx(J,{fallback:c.off,children:c.on})]}),r!=null&&n.jsx(Y,{children:r})]})});export{W as S,B as f,p as g,V as u};
