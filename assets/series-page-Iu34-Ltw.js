import{j as e,l as y,D as b,m as l,G as F,R as I,a as C,C as w,J as L,f as O,z as A,K as $,M,r as p,E as g,t as N}from"./index-x8IrEc5F.js";import{P as H,S as B,C as _,L as J,u as U,a as V}from"./star-checkbox-CSiXoEl5.js";import{S as G,i as T,g as s,j as i,o as K,I as W,P as E,a as P,b as k,f as D,u as q}from"./content-checkbox-BUgB6oAL.js";import{P as Q}from"./page-header-BBzbh8l0.js";import{V as z,C as X}from"./content-name-badge-DSsam6OG.js";import{f as Y,C as Z}from"./index-q-8fKQJ2.js";import{C as R}from"./content-popover-CasYlOBF.js";const S=Object.values(G).sort((r,n)=>r.license.id-n.license.id||r.name.localeCompare(n.name));function ee(){return e.jsx(y,{padding:{base:"unset",md:4},justifyContent:"space-between",alignItems:"start",children:e.jsx(Q,{title:"My Favorite Series",description:"Select the series you wanna see in your season planner"})})}function te({list:r,rows:n}){return e.jsx(H,{list:r,rows:n,children:e.jsxs(T,{bgColor:"bg.muted",children:[e.jsx(s,{minWidth:"40px",textAlign:"center",children:e.jsx(z,{children:"Favorite"})}),e.jsx(s,{minWidth:"60px",textAlign:"center",children:e.jsx(z,{children:"Series Logo"})}),e.jsx(s,{width:"100%",children:"Name"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Setup"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Cars"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Tracks"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Category"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Duration"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"License"})]})})}function ne({duration:r,laps:n}){const a=n?`${n} laps`:`${r} min`;return e.jsxs(b,{colorPalette:n?"pink":"purple",children:[e.jsx(l,{icon:n?F:Y,size:"xs"}),a]})}function re({id:r,logo:n,name:a,cars:d,tracks:h,favorite:j,fixed:u,category:c,license:t,color:o,duration:m,laps:x,official:v}){return e.jsxs(T,{bgColor:"transparent",children:[e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(B,{onClick:f=>f.stopPropagation(),checked:j,onCheckedChange:f=>K(r,!!f.checked)})}),e.jsx(i,{minWidth:"60px",textAlign:"center",children:n&&e.jsx(_,{children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:e.jsx(w,{loading:"lazy",userSelect:"none",draggable:!1,h:"80px",w:"160px",fit:"contain",src:`${W.image}/img/logos/series/${n}`}),showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(w,{loading:"lazy",userSelect:"none",draggable:!1,h:"24px",fit:"contain",src:`${W.image}/img/logos/series/${n}`})},n)})}),e.jsx(i,{width:"100%",children:e.jsx(X,{name:a,children:!v&&e.jsx(b,{colorPalette:"yellow",mr:1,children:"Unranked"})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:u&&e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:"Fixed Setup",showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsxs(b,{variant:"solid",_light:{bg:"gray.600"},children:[e.jsx(l,{icon:L,size:"sm"}),"Fixed"]})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(E,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(P,{asChild:!0,children:e.jsxs(y,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(l,{icon:O}),d.length,e.jsx(l,{icon:A})]})}),e.jsxs(k,{p:2,children:[e.jsx(D,{}),e.jsx(R,{content:"cars",list:d})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(E,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(P,{asChild:!0,children:e.jsxs(y,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(l,{icon:$}),h.length,e.jsx(l,{icon:A})]})}),e.jsxs(k,{p:2,children:[e.jsx(D,{}),e.jsx(R,{content:"tracks",list:h})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:M[c],showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(Z,{fontSize:"16px",category:c})},`${c}`)}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(ne,{duration:m,laps:x})}),e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(J,{letter:t,color:o,children:t})})]})}const se=I.memo(re);function he(){const[r,n]=p.useState(g.all),[a,d]=p.useState(""),[h,j]=p.useState(S),u=U(a,500),{favoriteSeries:c}=q();return p.useEffect(()=>{const t=r===g.all?S:S.filter(x=>g[x.category]===r),o=u.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),m=o?t.filter(x=>x.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(o)):t;j(m)},[u,r]),e.jsxs(N,{direction:"column",height:"100%",width:"100%",gap:"8px",children:[e.jsx(ee,{}),e.jsx(V,{tabs:g,tab:r,onTabChange:n,search:a,onSearchChange:d}),e.jsx(te,{list:h,rows:t=>e.jsx(se,{id:t.id,name:t.name,logo:t.logo,category:t.category,favorite:c.includes(t.id),fixed:t.fixed,cars:t.cars,tracks:[...new Set(t.weeks.map(o=>o.track.id))],license:t.license.letter,color:t.license.color,duration:t.duration,laps:t.laps,official:t.official},t.id)})]})}export{he as default};
