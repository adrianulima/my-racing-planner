import{j as e,i as y,k as o,V as z,R as F,a as C,I as b,W as L,f as O,q as A,e as $,r as M,t as p,E as j,v as N}from"./index-l4xYVy1r.js";import{P as B,S as H,C as _,L as V,u as U,a as q}from"./star-checkbox-Rh47qyAh.js";import{S as J,c as T,d as r,B as w,i,s as G,I as W,P as k,j as E,k as P,l as v,u as K}from"./tracks-DOssp19y.js";import{P as Q}from"./page-header-BuewkjOv.js";import{V as D,C as X}from"./content-name-badge-taVLh1Vf.js";import{a as Y,C as Z}from"./index-CouEe44i.js";import{C as R}from"./content-popover-BC-2petf.js";const S=Object.values(J).sort((s,n)=>s.license.id-n.license.id||s.name.localeCompare(n.name));function ee(){return e.jsx(y,{padding:{base:"unset",md:4},justifyContent:"space-between",alignItems:"start",children:e.jsx(Q,{title:"My Favorite Series",description:"Select the series you wanna see in your season planner"})})}function te({list:s,rows:n}){return e.jsx(B,{list:s,rows:n,children:e.jsxs(T,{bgColor:"bg.muted",children:[e.jsx(r,{minWidth:"40px",textAlign:"center",children:e.jsx(D,{children:"Favorite"})}),e.jsx(r,{minWidth:"60px",textAlign:"center",children:e.jsx(D,{children:"Series Logo"})}),e.jsx(r,{width:"100%",children:"Name"}),e.jsx(r,{minWidth:"90px",textAlign:"center",children:"Setup"}),e.jsx(r,{minWidth:"90px",textAlign:"center",children:"Cars"}),e.jsx(r,{minWidth:"90px",textAlign:"center",children:"Tracks"}),e.jsx(r,{minWidth:"90px",textAlign:"center",children:"Category"}),e.jsx(r,{minWidth:"90px",textAlign:"center",children:"Duration"}),e.jsx(r,{minWidth:"90px",textAlign:"center",children:"License"})]})})}function ne({duration:s,laps:n}){const c=n?`${n} laps`:`${s} min`;return e.jsxs(w,{colorPalette:n?"pink":"purple",children:[e.jsx(o,{icon:n?z:Y,size:"xs"}),c]})}function se({id:s,logo:n,name:c,cars:d,tracks:h,favorite:g,fixed:u,category:l,license:t,color:a,duration:m,laps:x,official:I}){return e.jsxs(T,{bgColor:"transparent",children:[e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(H,{onClick:f=>f.stopPropagation(),checked:g,onCheckedChange:f=>G(s,!!f.checked)})}),e.jsx(i,{minWidth:"60px",textAlign:"center",children:n&&e.jsx(_,{children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:e.jsx(b,{userSelect:"none",draggable:!1,h:"80px",w:"160px",fit:"contain",src:`${W.image}/img/logos/series/${n}`}),showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(b,{userSelect:"none",draggable:!1,h:"24px",fit:"contain",src:`${W.image}/img/logos/series/${n}`})},n)})}),e.jsx(i,{width:"100%",children:e.jsx(X,{name:c,children:!I&&e.jsx(w,{colorPalette:"yellow",mr:1,children:"Unranked"})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:u&&e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:"Fixed Setup",showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsxs(w,{variant:"solid",_light:{bg:"gray.600"},children:[e.jsx(o,{icon:L,size:"sm"}),"Fixed"]})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(k,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(E,{asChild:!0,children:e.jsxs(y,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(o,{icon:O}),d.length,e.jsx(o,{icon:A})]})}),e.jsxs(P,{p:2,children:[e.jsx(v,{}),e.jsx(R,{content:"cars",list:d})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(k,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(E,{asChild:!0,children:e.jsxs(y,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(o,{icon:$}),h.length,e.jsx(o,{icon:A})]})}),e.jsxs(P,{p:2,children:[e.jsx(v,{}),e.jsx(R,{content:"tracks",list:h})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:M[l],showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(Z,{fontSize:"16px",category:l})},`${l}`)}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(ne,{duration:m,laps:x})}),e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(V,{letter:t,color:a,children:t})})]})}const re=F.memo(se);function he(){const[s,n]=p.useState(j.all),[c,d]=p.useState(""),[h,g]=p.useState(S),u=U(c,500),{favoriteSeries:l}=K();return p.useEffect(()=>{const t=s===j.all?S:S.filter(x=>j[x.category]===s),a=u.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),m=a?t.filter(x=>x.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(a)):t;g(m)},[u,s]),e.jsxs(N,{direction:"column",height:"100%",width:"100%",gap:"8px",children:[e.jsx(ee,{}),e.jsx(q,{tabs:j,tab:s,onTabChange:n,onSearchChange:d}),e.jsx(te,{list:h,rows:t=>e.jsx(re,{id:t.id,name:t.name,logo:t.logo,category:t.category,favorite:l.includes(t.id),fixed:t.fixed,cars:t.cars,tracks:[...new Set(t.weeks.map(a=>a.track.id))],license:t.license.letter,color:t.license.color,duration:t.duration,laps:t.laps,official:t.official},t.id)})]})}export{he as default};
