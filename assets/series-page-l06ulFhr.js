import{j as e,n as y,M as b,o as l,N as F,R as I,a as C,C as w,O as L,f as O,D as A,P as $,Q as M,r as p,E as g,x as N}from"./index-eb7wFJrk.js";import{P as H,S as B,C as _,L as U,u as V,a as J}from"./star-checkbox-CyHiJN9G.js";import{S as Q,k as v,g as s,f as i,p as q,I as W,P,a as k,b as E,l as D,u as G}from"./tracks-CrM_92uz.js";import{P as K}from"./page-header-BrSXI3_B.js";import{V as R,C as X}from"./content-name-badge-HV7Ic15w.js";import{f as Y,C as Z}from"./index-DZaZiF3K.js";import{C as T}from"./content-popover-CxVEE1RM.js";const S=Object.values(Q).sort((r,t)=>r.license.id-t.license.id||r.name.localeCompare(t.name));function ee(){return e.jsx(y,{padding:{base:"unset",md:4},justifyContent:"space-between",alignItems:"start",children:e.jsx(K,{title:"My Favorite Series",description:"Select the series you wanna see in your season planner"})})}function ne({list:r,rows:t}){return e.jsx(H,{list:r,rows:t,children:e.jsxs(v,{bgColor:"bg.muted",children:[e.jsx(s,{minWidth:"40px",textAlign:"center",children:e.jsx(R,{children:"Favorite"})}),e.jsx(s,{minWidth:"60px",textAlign:"center",children:e.jsx(R,{children:"Series Logo"})}),e.jsx(s,{width:"100%",children:"Name"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Setup"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Cars"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Tracks"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Category"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Duration"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"License"})]})})}function te({duration:r,laps:t}){const a=t?`${t} laps`:`${r} min`;return e.jsxs(b,{colorPalette:t?"pink":"purple",children:[e.jsx(l,{icon:t?F:Y,size:"xs"}),a]})}function re({id:r,logo:t,name:a,cars:d,tracks:h,favorite:j,fixed:u,category:c,license:n,color:o,duration:m,laps:x,official:z}){return e.jsxs(v,{bgColor:"transparent",children:[e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(B,{onClick:f=>f.stopPropagation(),checked:j,onCheckedChange:f=>q(r,!!f.checked)})}),e.jsx(i,{minWidth:"60px",textAlign:"center",children:t&&e.jsx(_,{children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:e.jsx(w,{loading:"lazy",userSelect:"none",draggable:!1,h:"80px",w:"160px",fit:"contain",src:`${W.image}/img/logos/series/${t}`}),showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(w,{loading:"lazy",userSelect:"none",draggable:!1,h:"24px",fit:"contain",src:`${W.image}/img/logos/series/${t}`})},t)})}),e.jsx(i,{width:"100%",children:e.jsx(X,{name:a,children:!z&&e.jsx(b,{colorPalette:"yellow",mr:1,children:"Unranked"})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:u&&e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:"Fixed Setup",showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsxs(b,{variant:"solid",_light:{bg:"gray.600"},children:[e.jsx(l,{icon:L,size:"sm"}),"Fixed"]})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(P,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(k,{asChild:!0,children:e.jsxs(y,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(l,{icon:O}),d.length,e.jsx(l,{icon:A})]})}),e.jsxs(E,{p:2,children:[e.jsx(D,{}),e.jsx(T,{content:"cars",list:d})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(P,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(k,{asChild:!0,children:e.jsxs(y,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(l,{icon:$}),h.length,e.jsx(l,{icon:A})]})}),e.jsxs(E,{p:2,children:[e.jsx(D,{}),e.jsx(T,{content:"tracks",list:h})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:M[c],showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(Z,{fontSize:"16px",category:c})},`${c}`)}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(te,{duration:m,laps:x})}),e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(U,{letter:n,color:o,children:n})})]})}const se=I.memo(re);function he(){const[r,t]=p.useState(g.all),[a,d]=p.useState(""),[h,j]=p.useState(S),u=V(a,500),{favoriteSeries:c}=G();return p.useEffect(()=>{const n=r===g.all?S:S.filter(x=>g[x.category]===r),o=u.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),m=o?n.filter(x=>x.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(o)):n;j(m)},[u,r]),e.jsxs(N,{direction:"column",height:"100%",width:"100%",gap:"8px",children:[e.jsx(ee,{}),e.jsx(J,{tabs:g,tab:r,onTabChange:t,search:a,onSearchChange:d}),e.jsx(ne,{list:h,rows:n=>e.jsx(se,{id:n.id,name:n.name,logo:n.logo,category:n.category,favorite:c.includes(n.id),fixed:n.fixed,cars:n.cars,tracks:[...new Set(n.weeks.map(o=>o.track.id))],license:n.license.letter,color:n.license.color,duration:n.duration,laps:n.laps,official:n.official},n.id)})]})}export{he as default};
