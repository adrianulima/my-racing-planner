import{j as e,i as a,K as L,R as F,r as d,M as O,T as C,C as b,N as M,H as A,f as $,y as k,O as N,P as B,E as j,u as H}from"./index-sXrlPjm0.js";import{I as _,S as U,C as V,L as q,u as J,a as K}from"./star-checkbox-C-eltDN4.js";import{S as G,j as z,h as s,k as i,I as W,P as E,a as P,b as T,g as D,q as Q,f as X}from"./content-checkbox-DI4l5-lN.js";import{V as R,C as Y}from"./content-name-badge-FICSraMy.js";import{C as Z}from"./icons-DHbS040X.js";import{f as ee}from"./index-DiS1clUK.js";import{B as y}from"./checkbox-DmF2D5qL.js";import{C as v}from"./content-popover-_PuL-tjc.js";const S=Object.values(G).sort((r,n)=>r.license.id-n.license.id||r.name.localeCompare(n.name));function te({list:r,rows:n}){return e.jsx(_,{list:r,rows:n,cols:9,children:e.jsxs(z,{bgColor:"bg.muted",children:[e.jsx(s,{minWidth:"40px",textAlign:"center",children:e.jsx(R,{children:"Favorite"})}),e.jsx(s,{minWidth:"60px",textAlign:"center",children:e.jsx(R,{children:"Series Logo"})}),e.jsx(s,{width:"100%",children:"Name"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Setup"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Cars"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Tracks"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Category"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Duration"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"License"})]})})}function ne({duration:r,laps:n}){const o=n?`${n} laps`:`${r} min`;return e.jsxs(y,{colorPalette:n?"pink":"purple",children:[e.jsx(a,{icon:n?L:ee,size:"xs"}),o]})}function re({id:r,logo:n,name:o,cars:h,weeks:g,favorite:m,fixed:u,category:c,license:t,color:p,duration:f,laps:l,official:I}){const w=d.useMemo(()=>[...new Set(g.map(x=>x.track.id))],[]);return e.jsxs(z,{bgColor:"transparent",children:[e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(U,{onClick:x=>x.stopPropagation(),checked:m,onCheckedChange:x=>O(r,!!x.checked)})}),e.jsx(i,{minWidth:"60px",textAlign:"center",children:n&&e.jsx(V,{children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:e.jsx(b,{loading:"lazy",userSelect:"none",draggable:!1,h:"80px",w:"160px",fit:"contain",src:`${W.image}/img/logos/series/${n}`}),showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(b,{loading:"lazy",userSelect:"none",draggable:!1,h:"24px",fit:"contain",src:`${W.image}/img/logos/series/${n}`})},n)})}),e.jsx(i,{width:"100%",children:e.jsx(Y,{name:o,children:!I&&e.jsx(y,{colorPalette:"yellow",mr:1,children:"Unranked"})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:u&&e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:"Fixed Setup",showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsxs(y,{variant:"solid",_light:{bg:"gray.600"},children:[e.jsx(a,{icon:M,size:"sm"}),"Fixed"]})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(E,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(P,{asChild:!0,children:e.jsxs(A,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(a,{icon:$}),h.length,e.jsx(a,{icon:k})]})}),e.jsxs(T,{p:2,children:[e.jsx(D,{}),e.jsx(v,{content:"cars",list:h})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(E,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(P,{asChild:!0,children:e.jsxs(A,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(a,{icon:N}),w.length,e.jsx(a,{icon:k})]})}),e.jsxs(T,{p:2,children:[e.jsx(D,{}),e.jsx(v,{content:"tracks",list:w})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:B[c],showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(Z,{fontSize:"16px",category:c})},`${c}`)}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(ne,{duration:f,laps:l})}),e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(q,{letter:t,color:p,children:t})})]})}const se=F.memo(re);function ue(){const[r,n]=d.useState(j.all),[o,h]=d.useState(""),[g,m]=d.useState(S),u=J(o,500),{favoriteSeries:c}=H();return d.useEffect(()=>{const t=r===j.all?S:S.filter(l=>j[l.category]===r),p=u.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),f=p?t.filter(l=>l.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(p)):t;m(f)},[u,r]),e.jsxs(Q,{children:[e.jsx(X,{title:"My Favorite Series",description:"Select the series you wanna see in your season planner"}),e.jsx(K,{tabs:j,tab:r,onTabChange:n,search:o,onSearchChange:h}),e.jsx(te,{list:g,rows:t=>e.jsx(se,{id:t.id,name:t.name,logo:t.logo,category:t.category,favorite:c.includes(t.id),fixed:t.fixed,cars:t.cars,weeks:t.weeks,license:t.license.letter,color:t.license.color,duration:t.duration,laps:t.laps,official:t.official},t.id)})]})}export{ue as default};
