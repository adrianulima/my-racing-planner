import{a4 as N,r as i,a5 as h,j as a,a6 as l,a7 as $,a8 as A,a9 as E,aa as U,ab as M,ac as H,ad as O,ae as m,af as q,ag as x,ah as g,u as L,S as C}from"./index-C5WKOKvL.js";import{u as k}from"./checkbox-DHO637gP.js";const[P,u]=N({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),b=i.forwardRef((e,s)=>{const o=u(),t=h(o.getControlProps(),e);return a.jsx(l.span,{...t,ref:s})});b.displayName="SwitchControl";const y=i.forwardRef((e,s)=>{const o=u(),t=h(o.getHiddenInputProps(),e),n=k();return a.jsx(l.input,{"aria-describedby":n==null?void 0:n.ariaDescribedby,...t,ref:s})});y.displayName="SwitchHiddenInput";const R=i.forwardRef((e,s)=>{const o=u(),t=h(o.getLabelProps(),e);return a.jsx(l.span,{...t,ref:s})});R.displayName="SwitchLabel";const _=(e={})=>{const{getRootNode:s}=$(),{dir:o}=A(),t=k(),n={id:i.useId(),ids:{label:t==null?void 0:t.ids.label,hiddenInput:t==null?void 0:t.ids.control},dir:o,disabled:t==null?void 0:t.disabled,readOnly:t==null?void 0:t.readOnly,invalid:t==null?void 0:t.invalid,required:t==null?void 0:t.required,getRootNode:s,checked:e.defaultChecked,...e},r={...n,checked:e.checked,onCheckedChange:E(e.onCheckedChange,{sync:!0})},[d,c]=U(M(n),{context:r});return H(d,c,O)},j=i.forwardRef((e,s)=>{const[o,t]=m()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),n=_(o),r=h(n.getRootProps(),t);return a.jsx(P,{value:n,children:a.jsx(l.label,{...r,ref:s})})});j.displayName="SwitchRoot";const v=i.forwardRef((e,s)=>{const[{value:o},t]=m()(e,["value"]),n=h(o.getRootProps(),t);return a.jsx(P,{value:o,children:a.jsx(l.label,{...n,ref:s})})});v.displayName="SwitchRootProvider";const T=i.forwardRef((e,s)=>{const o=u(),t=h(o.getThumbProps(),e);return a.jsx(l.span,{...t,ref:s})});T.displayName="SwitchThumb";const{withProvider:I,withContext:S,useStyles:F,PropsProvider:Z}=q({key:"switch"});I(v,"root",{forwardAsChild:!0});const z=I(j,"root",{forwardAsChild:!0}),J=S(R,"label",{forwardAsChild:!0}),Y=S(b,"control",{forwardAsChild:!0}),B=S(T,"thumb",{forwardAsChild:!0}),G=i.forwardRef(function(s,o){const t=u(),n=F(),{fallback:r,children:d,...c}=s;return a.jsx(x.span,{ref:o,"data-checked":g(t.checked),...c,css:[n.indicator,s.css],children:t.checked?d:r})}),K=i.forwardRef(function(s,o){const t=u(),{fallback:n,children:r,...d}=s;return a.jsx(x.span,{ref:o,"data-checked":g(t.checked),...d,children:t.checked?r:n})}),Q=y,tt=i.forwardRef(function(s,o){const{inputProps:t,children:n,rootRef:r,trackLabel:d,thumbLabel:c,...w}=s;return a.jsxs(z,{ref:r,...w,children:[a.jsx(Q,{ref:o,...t}),a.jsxs(Y,{children:[a.jsx(B,{children:c&&a.jsx(K,{fallback:c==null?void 0:c.off,children:c==null?void 0:c.on})}),d&&a.jsx(G,{fallback:d.off,children:d.on})]}),n!=null&&a.jsx(J,{children:n})]})});function f(e){const s=new Date(e),o=s.getUTCDay();if(o!==2){const t=o-2>=0?o-2:o-2+7;s.setUTCDate(s.getUTCDate()-t)}return V(s)}function V(e){const s=e.getUTCFullYear(),o=String(e.getUTCMonth()+1).padStart(2,"0"),t=String(e.getUTCDate()).padStart(2,"0");return`${s}-${o}-${t}`}const et=()=>{const{favoriteSeries:e}=L(),s=i.useMemo(()=>[...new Set(e.map(t=>{var n;return((n=C[t.toString()])==null?void 0:n.weeks.map(r=>f(r.date)))??[]}).flat())],[e]),o=i.useMemo(()=>e.reduce((t,n)=>{const r=C[n.toString()];return{...t,[n]:r==null?void 0:r.weeks.reduce((d,c)=>{var p;const w=f(c.date);return{...d,[w]:c.track.id,[`${w}_rainChance`]:c.rainChance||0,...r.switching?{[`${w}_cars`]:(p=c.cars)==null?void 0:p.map(D=>D.id)}:{}}},{})}},{}),[e]);return{weeksStartDates:s,seriesDateMap:o}};export{tt as S,V as f,f as g,et as u};
