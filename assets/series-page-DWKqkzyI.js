import{j as e,C as y,m as o,D as F,R as I,r as d,b as C,A as w,G as O,l as A,f as $,y as W,J as M,K as N,E as g}from"./index-I0Ae9TRl.js";import{P as B,S as H,C as _,L as J,u as U,a as V}from"./star-checkbox-ZorxYKUO.js";import{S as G,i as z,g as s,j as i,p as K,I as k,P,a as E,b as D,f as R,u as q}from"./content-checkbox-CTgUIeYO.js";import{f as Q,P as X,a as Y}from"./page-header-C_SMm7LP.js";import{V as T,C as Z}from"./content-name-badge-C8tgG05v.js";import{C as ee}from"./icons-uv-pP4Gg.js";import{C as v}from"./content-popover-BGk5lg7w.js";const S=Object.values(G).sort((r,n)=>r.license.id-n.license.id||r.name.localeCompare(n.name));function te({list:r,rows:n}){return e.jsx(B,{list:r,rows:n,children:e.jsxs(z,{bgColor:"bg.muted",children:[e.jsx(s,{minWidth:"40px",textAlign:"center",children:e.jsx(T,{children:"Favorite"})}),e.jsx(s,{minWidth:"60px",textAlign:"center",children:e.jsx(T,{children:"Series Logo"})}),e.jsx(s,{width:"100%",children:"Name"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Setup"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Cars"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Tracks"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Category"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"Duration"}),e.jsx(s,{minWidth:"90px",textAlign:"center",children:"License"})]})})}function ne({duration:r,laps:n}){const a=n?`${n} laps`:`${r} min`;return e.jsxs(y,{colorPalette:n?"pink":"purple",children:[e.jsx(o,{icon:n?F:Q,size:"xs"}),a]})}function re({id:r,logo:n,name:a,cars:h,weeks:j,favorite:m,fixed:u,category:l,license:t,color:p,duration:f,laps:c,official:L}){const b=d.useMemo(()=>[...new Set(j.map(x=>x.track.id))],[]);return e.jsxs(z,{bgColor:"transparent",children:[e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(H,{onClick:x=>x.stopPropagation(),checked:m,onCheckedChange:x=>K(r,!!x.checked)})}),e.jsx(i,{minWidth:"60px",textAlign:"center",children:n&&e.jsx(_,{children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:e.jsx(w,{loading:"lazy",userSelect:"none",draggable:!1,h:"80px",w:"160px",fit:"contain",src:`${k.image}/img/logos/series/${n}`}),showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(w,{loading:"lazy",userSelect:"none",draggable:!1,h:"24px",fit:"contain",src:`${k.image}/img/logos/series/${n}`})},n)})}),e.jsx(i,{width:"100%",children:e.jsx(Z,{name:a,children:!L&&e.jsx(y,{colorPalette:"yellow",mr:1,children:"Unranked"})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:u&&e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:"Fixed Setup",showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsxs(y,{variant:"solid",_light:{bg:"gray.600"},children:[e.jsx(o,{icon:O,size:"sm"}),"Fixed"]})})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(P,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(E,{asChild:!0,children:e.jsxs(A,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(o,{icon:$}),h.length,e.jsx(o,{icon:W})]})}),e.jsxs(D,{p:2,children:[e.jsx(R,{}),e.jsx(v,{content:"cars",list:h})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsxs(P,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(E,{asChild:!0,children:e.jsxs(A,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(o,{icon:M}),b.length,e.jsx(o,{icon:W})]})}),e.jsxs(D,{p:2,children:[e.jsx(R,{}),e.jsx(v,{content:"tracks",list:b})]})]})}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:N[l],showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(ee,{fontSize:"16px",category:l})},`${l}`)}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:e.jsx(ne,{duration:f,laps:c})}),e.jsx(i,{minWidth:"40px",textAlign:"center",children:e.jsx(J,{letter:t,color:p,children:t})})]})}const se=I.memo(re);function he(){const[r,n]=d.useState(g.all),[a,h]=d.useState(""),[j,m]=d.useState(S),u=U(a,500),{favoriteSeries:l}=q();return d.useEffect(()=>{const t=r===g.all?S:S.filter(c=>g[c.category]===r),p=u.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),f=p?t.filter(c=>c.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(p)):t;m(f)},[u,r]),e.jsxs(X,{children:[e.jsx(Y,{title:"My Favorite Series",description:"Select the series you wanna see in your season planner"}),e.jsx(V,{tabs:g,tab:r,onTabChange:n,search:a,onSearchChange:h}),e.jsx(te,{list:j,rows:t=>e.jsx(se,{id:t.id,name:t.name,logo:t.logo,category:t.category,favorite:l.includes(t.id),fixed:t.fixed,cars:t.cars,weeks:t.weeks,license:t.license.letter,color:t.license.color,duration:t.duration,laps:t.laps,official:t.official},t.id)})]})}export{he as default};
