import{j as e,k as l,M as I,R as L,r as c,N as O,T as C,D as k,O as M,H as A,f as $,z as W,P as N,Q as B,E as f,u as H}from"./index-BvVQSPO0.js";import{I as _,S as T,C as U,L as V,u as q,a as J}from"./star-checkbox-SDEw4YSj.js";import{S as Q,j as R,h as i,k as o,I as v,P as D,a as E,b as F,g as P,q as G,f as K}from"./content-checkbox-n0-5Dy-C.js";import{V as X,C as Y}from"./content-name-badge-fBs6TsSS.js";import{C as Z}from"./icons-CVB1yVXx.js";import{f as ee}from"./index-DiS1clUK.js";import{B as b}from"./checkbox-jwR6ioW-.js";import{C as z}from"./content-popover-DV3ANvpj.js";const w=Object.values(Q).sort((r,n)=>r.license.id-n.license.id||r.name.localeCompare(n.name));function te({list:r,rows:n,filterButton:a}){return e.jsx(_,{list:r,rows:n,cols:9,children:e.jsxs(R,{bgColor:"bg.muted",children:[e.jsx(i,{minWidth:"40px",textAlign:"center",children:a}),e.jsx(i,{minWidth:"60px",textAlign:"center",children:e.jsx(X,{children:"Series Logo"})}),e.jsx(i,{width:"100%",children:"Name"}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:"Setup"}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:"Cars"}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:"Tracks"}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:"Category"}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:"Duration"}),e.jsx(i,{minWidth:"90px",textAlign:"center",children:"License"})]})})}function ne({duration:r,laps:n}){const a=n?`${n} laps`:`${r} min`;return e.jsxs(b,{colorPalette:n?"pink":"purple",children:[e.jsx(l,{icon:n?I:ee,size:"xs"}),a]})}function re({id:r,logo:n,name:a,cars:u,weeks:S,favorite:y,fixed:x,category:d,license:h,color:p,duration:t,laps:g,official:j}){const m=c.useMemo(()=>[...new Set(S.map(s=>s.track.id))],[]);return e.jsxs(R,{bgColor:"transparent",children:[e.jsx(o,{minWidth:"40px",textAlign:"center",children:e.jsx(T,{onClick:s=>s.stopPropagation(),checked:y,onCheckedChange:s=>O(r,!!s.checked)})}),e.jsx(o,{minWidth:"60px",textAlign:"center",children:n&&e.jsx(U,{children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:e.jsx(k,{loading:"lazy",userSelect:"none",draggable:!1,h:"80px",w:"160px",fit:"contain",src:`${v.image}/img/logos/series/${n}`}),showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(k,{loading:"lazy",userSelect:"none",draggable:!1,h:"24px",fit:"contain",src:`${v.image}/img/logos/series/${n}`})},n)})}),e.jsx(o,{width:"100%",children:e.jsx(Y,{name:a,children:!j&&e.jsx(b,{colorPalette:"yellow",mr:1,children:"Unranked"})})}),e.jsx(o,{minWidth:"90px",textAlign:"center",children:x&&e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:"Fixed Setup",showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsxs(b,{variant:"solid",_light:{bg:"gray.600"},children:[e.jsx(l,{icon:M,size:"sm"}),"Fixed"]})})}),e.jsx(o,{minWidth:"90px",textAlign:"center",children:e.jsxs(D,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(E,{asChild:!0,children:e.jsxs(A,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(l,{icon:$}),u.length,e.jsx(l,{icon:W})]})}),e.jsxs(F,{p:2,children:[e.jsx(P,{}),e.jsx(z,{content:"cars",list:u})]})]})}),e.jsx(o,{minWidth:"90px",textAlign:"center",children:e.jsxs(D,{lazyMount:!0,unmountOnExit:!0,children:[e.jsx(E,{asChild:!0,children:e.jsxs(A,{gap:1,justifyContent:"center",cursor:"pointer",children:[e.jsx(l,{icon:N}),m.length,e.jsx(l,{icon:W})]})}),e.jsxs(F,{p:2,children:[e.jsx(P,{}),e.jsx(z,{content:"tracks",list:m})]})]})}),e.jsx(o,{minWidth:"90px",textAlign:"center",children:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:B[d],showArrow:!0,positioning:{placement:"top"},openDelay:200,closeDelay:100,children:e.jsx(Z,{fontSize:"16px",category:d})},`${d}`)}),e.jsx(o,{minWidth:"90px",textAlign:"center",children:e.jsx(ne,{duration:t,laps:g})}),e.jsx(o,{minWidth:"40px",textAlign:"center",children:e.jsx(V,{letter:h,color:p,children:h})})]})}const se=L.memo(re);function ue(){const[r,n]=c.useState(f.all),[a,u]=c.useState(""),[S,y]=c.useState(w),[x,d]=c.useState(!1),h=q(a,500),{favoriteSeries:p}=H();return c.useEffect(()=>{const t=r===f.all?w:w.filter(s=>f[s.category]===r),g=x?t.filter(s=>p.includes(s.id)):t,j=h.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),m=j?g.filter(s=>s.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(j)):g;y(m)},[h,r,x]),e.jsxs(G,{children:[e.jsx(K,{title:"My Favorite Series",description:"Select the series you wanna see in your season planner"}),e.jsx(J,{tabs:f,tab:r,onTabChange:n,search:a,onSearchChange:u}),e.jsx(te,{filterButton:e.jsx(C,{lazyMount:!0,unmountOnExit:!0,content:"Filter favorite series only",showArrow:!0,openDelay:200,closeDelay:100,ids:{trigger:"favFilter"},children:e.jsx(T,{ids:{root:"favFilter"},gray:!0,onClick:t=>t.stopPropagation(),checked:x,onCheckedChange:t=>d(!!t.checked)})}),list:S,rows:t=>e.jsx(se,{id:t.id,name:t.name,logo:t.logo,category:t.category,favorite:p.includes(t.id),fixed:t.fixed,cars:t.cars,weeks:t.weeks,license:t.license.letter,color:t.license.color,duration:t.duration,laps:t.laps,official:t.official},t.id)})]})}export{ue as default};
